schema_version: "1.2.0"
metadata:
  draft_name: "RAG Chat (Agent)"
nodes:
  - id: chat_agent
    type: agent
    package: chat_agent
    model: gpt-4o
    provider: openai
    max_iterations: 2
    agent_config:
      prompt: |
        You are a helpful RAG chat agent. Answer succinctly.
    llm_config:
      provider: openai
      model: gpt-4o
    input_schema:
      type: object
      properties:
        query:
          type: string
        session_id:
          type: string
        org_id:
          type: string
        user_id:
          type: string
      required: [query]
    output_schema:
      type: object
      properties:
        message:
          type: string
        reasoning:
          type: array
          items:
            type: string
    memory:
      backend: redis